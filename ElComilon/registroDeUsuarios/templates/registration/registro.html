{% extends "HeaderFooter/base.html"%}
{% load static %}
{% block titulo %}
Regístrate en El Comilón
{% endblock %}
{% block content%}

<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/estiloRegistro.css' %}">
    <title>Registro de usuario</title>
</head>

<body>
    <div class="container mt-5">
        <div class="row d-flex justify-content-center">
            <div class="col-lg-8 col-md-12 ">
                <div class="card shadow">
                    <h3 class="text-center mt-3 titulo">Registro de usuario</h3>
                    <div class="card-body">
                        <form  name="form1" onsubmit="javascript:return Rut(document.form1.rut.value)" method="POST">
                            {% csrf_token %} 
                            <div class=" form">
                                <div class="row d-flex justify-content-center sangria">
                                    <div class="row mt-3 p-0">
                                        <div class="col">
                                            <div class="form-floating mb-3">
                                                {%if form.email.value%}
                                                <input type="email" name="email" class="form-control"
                                                    id="{{form.email.id_for_label}}" placeholder=" "
                                                    value="{{form.email.value}}" required>
                                                <label for="{{form.email.id_for_label}}">{{form.email.label}}</label>
                                                {%else%}
                                                <input type="email" name="email" class="form-control"
                                                    id="{{form.email.id_for_label}}" placeholder=" " required>
                                                <label for="{{form.email.id_for_label}}">{{form.email.label}}</label>
                                                {%endif%}
                                                {% if form.errors%}
                                                <small class="text-danger">{{form.email.errors}}</small>
                                                {%endif%}
                                            </div>
                                            <div class="form-floating mb-3">
                                                {%if form.username.value%}
                                                <input type="text" id="{{form.username.id_for_label}}"
                                                    name="{{form.username.html_name}}" class="form-control"
                                                    id="floatingInput" placeholder=" " autocomplete="off"
                                                    value="{{form.username.value}}">
                                                <label
                                                    for="{{form.username.id_for_label}}">{{form.username.label}}</label>
                                                {%else%}
                                                <input type="text" id="{{form.username.id_for_label}}"
                                                    name="{{form.username.html_name}}" class="form-control"
                                                    id="floatingInput" placeholder=" " autocomplete="off">
                                                <label
                                                    for="{{form.username.id_for_label}}">{{form.username.label}}</label>
                                                {%endif%}
                                                {% if form.errors%}
                                                <small id="usernaeError"
                                                    class="sangria fs-6 text-danger">{{form.username.errors}}</small>
                                                {%endif%}
                                            </div>
                                            <div class="form-floating mb-3">
                                                {%if form.password1.value%}
                                                <input type="password" name="{{form.password1.html_name}}"
                                                    id="id_password1" class="form-control" placeholder=" "
                                                    autocomplete="off" value="{{form.password1.value}}">
                                                <label
                                                    for="{{form.password1.id_for_label}}">{{form.password1.label}}</label>
                                                <small class="form-text text-muted">{{form.password1.help_text}}</small>
                                                {%else%}
                                                <input type="password" name="{{form.password1.html_name}}"
                                                    id="id_password1" class="form-control" placeholder=" "
                                                    autocomplete="off">
                                                <label
                                                    for="{{form.password1.id_for_label}}">{{form.password1.label}}</label>
                                                <small class="form-text text-muted">{{form.password1.help_text}}</small>
                                                {%endif%}

                                            </div>
                                            <div class="form-floating mb-3">
                                                {%if form.password2.value%}
                                                <input type="password" name="{{form.password2.html_name}}"
                                                    id="id_password2" class="form-control" placeholder=" "
                                                    value="{{form.password2.value}}">
                                                <label
                                                    for="{{form.password2.id_for_label}}">{{form.password2.label}}</label>
                                                {%else%}
                                                <input type="password" name="{{form.password2.html_name}}"
                                                    id="id_password2" class="form-control" placeholder=" "
                                                    autocomplete="off">
                                                <label
                                                    for="{{form.password2.id_for_label}}">{{form.password2.label}}</label>
                                                <small class="form-text text-muted">{{form.password2.help_text}}</small>
                                                {%endif%}
                                                {% if form.errors%}
                                                <small class="text-danger fs-6">{{form.password2.errors}}</small>
                                                {%endif%}
                                            </div>
                                            <div class="form-floating mb-3">
                                                {%if rut %}
                                                <input type="text"
                                                    class="form-control  shadow-sm  bg-body rounded input_rut"
                                                     name="rut"
                                                    placeholder="19.455.087-3" oninput="checkRut(this)" maxlength="12" value="{{rut}}" required>
                                                <label for="Rut">Rut</label>
                                                
                                                {%else%}
                                                <input type="text"
                                                    class="form-control  shadow-sm  bg-body rounded input_rut" name="rut"
                                                    placeholder="19.455.087-3"  oninput="checkRut(this)" maxlength="12" required>
                                                <label for="Rut">Rut</label>
                                                {%endif%}
                                                <small id="Msg" class="text-danger fs-6 mt-1">{{mensaje}}</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="envio d-flex flex-column justify-content-center mt-3">
                                <div class="text-center">
                                    <input type="checkbox" id="checkBox"   required > Estoy de acuerdo con <a href=""
                                        data-bs-toggle="modal" data-bs-target="#exampleModal">Términos y
                                        condiciones.</a></p>
                                    <div class="valid-feedback"> </div>
                                    <div class="invalid-feedback">Debe estar de acuerdo con los Términos y
                                        Condiciones*</div>
                                    <!-- Modal -->
                                    <div class="modal fade" id="exampleModal" tabindex="-1"
                                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Términos y
                                                        condiciones</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                        aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <p class="justificado">
                                                        Las compras que se efectúen en El Comilón a través de medio online, o en cualquiera de nuestras tiendas
                                                         afiliadas, estarán sujetas a los términos y condiciones previstos en este documento, así como a la 
                                                         legislación chilena vigente, en particular a la Ley N° 19.496 sobre Protección de los Derechos de 
                                                         los Consumidores y a la Ley N° 19.628 sobre Protección de la Vida Privada. Es requisito para comprar en
                                                          El Comilón la aceptación de los Términos y Condiciones que se indican a continuación.

                                                    </p>
                                                    <p class="bold justificado">
                                                        REGISTRO CLIENTE, CONTRASEÑA, CLIENTE EL COMILÓN Y DATOS DEL CLIENTE

                                                    </p>

                                                    <p class="justificado">
                                                        1.- Registro. Antes de la primera Compra, cada cliente se registrará de la siguiente forma:
    
                                                        En https://www.elcomilonrestaurante.cl/registroUsuarios ingresando los datos requeridos.
    
                                                        El registro del cliente y compra efectuada en www.elcomilonrestaurante.cl implica el conocimiento y aceptación de los Términos y Condiciones.
                                                    </p>

                                                    <p class="justificado">
                                                        2 - Compras posteriores. Para compras posteriores al registro, a través de www. elcomilonrestaurante.cl, se requerirá el ingreso del cliente a través de su nombre de usuario y clave secreta, sin que sea necesario volver a registrarse.
                                                    </p>

                                                    <p class="justificado">
                                                        3 - Contraseña. La administración de la clave secreta es de absoluta responsabilidad de cada cliente. Su entrega o utilización por terceras personas, no implicará responsabilidad alguna de El Comilón. En caso de extravío, hurto, robo, mal uso de la clave o cualquier otra eventualidad de esta naturaleza, el cliente tendrá la obligación de cambiarla inmediatamente en https://www. elcomilonrestaurante.cl/ accounts/login/ clicando en el botón “olvidé mi contraseña”. El correo electrónico ingresado en la pantalla posterior debe coincidir con el ingresado en el registro en el sistema, en caso contrario, no se enviará el mail de restauración de contraseña.
                                                    </p>

                                                    <p class="justificado">
                                                        4 - Veracidad y actualización de la información. Los datos proporcionados por el cliente al momento del registro serán considerados como fidedignos y será responsabilidad del cliente mantenerlos actualizados. Es decir, el restaurante El comilón queda liberado de cualquier responsabilidad derivada de datos no actualizados o falsos. Éstos serán tratados de manera confidencial y serán utilizados exclusivamente para procesar la compra y el despacho.
                                                    </p>

                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary"
                                                        data-bs-dismiss="modal">Cerrar</button>
                                                    <button type="button" class="btn btn-primary"
                                                        data-bs-dismiss="modal"
                                                        onclick="aceptarTerminos()">Aceptar</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="d-flex justify-content-center">
                                    <input type="submit" class="btn botonEnviar mt-3" value="Registrar">
                                </div>
                            </div>
                            <p class="mt-2 text-center"><a href="accounts/login/">¿Ya tienes cuenta?</a></p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="{% static 'app/acepta-terminos.js' %}"></script>
</body>

</html>
{%endblock%}